<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dagens schema – SB vinter februari 2026</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="display-mode">

  <h1 id="today-heading">Dagens schema</h1>

  <div class="dagens-layout">

    <div class="dagens-events">
      <div id="today-events"></div>
    </div>

    <aside class="dagens-sidebar">
      <p class="sidebar-text">Detta är schemat för aktiviteter som sker idag. För kartor, information och schema andra dagar – besök sbsommar.se eller skanna QR-koden.</p>
      <div class="qr-wrap"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 29" shape-rendering="crispEdges"><path fill="#ffffff" d="M0 0h29v29H0z"/><path stroke="#000000" d="M2 2.5h7m1 0h1m4 0h1m4 0h7M2 3.5h1m5 0h1m1 0h2m4 0h1m3 0h1m5 0h1M2 4.5h1m1 0h3m1 0h1m1 0h3m2 0h2m3 0h1m1 0h3m1 0h1M2 5.5h1m1 0h3m1 0h1m4 0h1m1 0h1m1 0h2m1 0h1m1 0h3m1 0h1M2 6.5h1m1 0h3m1 0h1m1 0h1m1 0h3m1 0h1m3 0h1m1 0h3m1 0h1M2 7.5h1m5 0h1m5 0h1m1 0h1m1 0h1m1 0h1m5 0h1M2 8.5h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7M12 9.5h2m1 0h1m1 0h1M2 10.5h1m2 0h6m1 0h1m2 0h1m1 0h1m1 0h1m2 0h1m1 0h3M2 11.5h2m1 0h1m1 0h1m1 0h1m3 0h1m1 0h3m3 0h5M2 12.5h7m4 0h1m1 0h1m1 0h5m1 0h1m2 0h1M2 13.5h3m2 0h1m6 0h2m2 0h2m3 0h4M5 14.5h5m1 0h1m1 0h3m1 0h2m1 0h1m5 0h1M2 15.5h4m4 0h2m3 0h5m2 0h1m2 0h1M2 16.5h10m1 0h3m1 0h1m2 0h1m1 0h5M2 17.5h1m2 0h3m2 0h4m5 0h1m1 0h1m1 0h2m1 0h1M2 18.5h1m5 0h1m1 0h2m4 0h1m1 0h5m1 0h2M10 19.5h2m1 0h4m1 0h1m3 0h1m1 0h2M2 20.5h7m1 0h4m4 0h1m1 0h1m1 0h1m3 0h1M2 21.5h1m5 0h1m1 0h2m2 0h1m1 0h3m3 0h1m2 0h1M2 22.5h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h9m3 0h1M2 23.5h1m1 0h3m1 0h1m1 0h1m5 0h5m4 0h2M2 24.5h1m1 0h3m1 0h1m3 0h1m1 0h1m1 0h1m1 0h2m2 0h5M2 25.5h1m5 0h1m2 0h1m4 0h1m4 0h2m1 0h3M2 26.5h7m1 0h1m1 0h1m2 0h2m1 0h1m4 0h1m2 0h1"/></svg>
</div>
    </aside>

  </div>

  <script>
    (function () {
      var events = [{"title":"Välkommen","date":"2026-02-22","start":"12:00","end":"23:30","location":"Annat","responsible":"Alla","description":null,"link":null},{"title":"Middag","date":"2026-02-22","start":"17:00","end":"18:00","location":"Servicehus","responsible":"Alla","description":null,"link":null},{"title":"Brädspel kunskap","date":"2026-02-22","start":"19:30","end":"22:00","location":"Kaffetält","responsible":"Karin och Fredrik","description":"En massa kul att göra.\noch inget annat heller.\n","link":null},{"title":"MORGONYOGA: En en bättre morgon","date":"2026-02-23","start":"07:30","end":"08:00","location":"GA Idrott","responsible":"Lisa Lautrup","description":null,"link":null},{"title":"Nagelstudio","date":"2026-02-23","start":"10:00","end":"11:30","location":"AndreasTältet","responsible":"Malin Isenfors","description":null,"link":null},{"title":"Lunch","date":"2026-02-23","start":"12:00","end":"13:00","location":"Servicehus","responsible":"Alla","description":null,"link":null},{"title":"Fotbollsturnering för alla","date":"2026-02-23","start":"16:00","end":"17:00","location":"Fotbollsplan","responsible":"Christina Johansson, Lisel Naeslund","description":null,"link":null},{"title":"Middag","date":"2026-02-23","start":"17:00","end":"18:00","location":"Servicehus","responsible":"Alla","description":null,"link":null},{"title":"FRIGÖRANDE DANS: Flödande","date":"2026-02-24","start":"09:00","end":"09:45","location":"Tält2","responsible":"Lisa Lautrup","description":null,"link":null},{"title":"Lunch","date":"2026-02-24","start":"12:00","end":"13:00","location":"Servicehus","responsible":"Alla","description":null,"link":null},{"title":"AI: teori/praktik - grund/avancerat","date":"2026-02-24","start":"15:00","end":"16:30","location":"GA Stilla hyllan","responsible":"Petter Åström","description":null,"link":null},{"title":"Middag","date":"2026-02-24","start":"17:00","end":"18:00","location":"Servicehus","responsible":"Alla","description":null,"link":null},{"title":"MORGONYOGA: Free Power","date":"2026-02-25","start":"07:30","end":"08:00","location":"GA Idrott","responsible":"Lisa Lautrup","description":null,"link":null},{"title":"Rollspel, Viktor DnD, session 1","date":"2026-02-25","start":"10:00","end":"13:00","location":"Rollspelstält1","responsible":"Viktor Ängquist, 0730714200","description":null,"link":null},{"title":"Charader","date":"2026-02-25","start":"15:00","end":"16:00","location":"Tält2","responsible":"Christina Johansson","description":null,"link":null},{"title":"Middag","date":"2026-02-25","start":"17:00","end":"18:00","location":"Servicehus","responsible":"Alla","description":null,"link":null},{"title":"Lunch","date":"2026-02-26","start":"12:00","end":"13:00","location":"Servicehus","responsible":"Alla","description":null,"link":null},{"title":"BRAINGAMES","date":"2026-02-26","start":"14:00","end":"16:30","location":"GA Idrott","responsible":"Ivar Ängquist, 073-6413320","description":null,"link":null},{"title":"GRILLFEST","date":"2026-02-26","start":"17:00","end":"23:59","location":"Grillplats","responsible":"Malin Isenfors","description":null,"link":null},{"title":"Musikquiz","date":"2026-02-26","start":"19:00","end":"21:00","location":"AndreasTältet","responsible":"Martina och Linn","description":null,"link":null},{"title":"MORGONYOGA: Lymfyoga","date":"2026-02-27","start":"07:30","end":"08:00","location":"GA Idrott","responsible":"Lisa Lautrup","description":null,"link":null},{"title":"Lunch","date":"2026-02-27","start":"12:00","end":"13:00","location":"Servicehus","responsible":"Alla","description":null,"link":null},{"title":"[Obligatoriskt för alla] Avslutningsmöte","date":"2026-02-27","start":"18:00","end":"20:30","location":"GA Idrott","responsible":"Lägernissen (Andreas)","description":null,"link":null}];

      function pad(n) { return String(n).padStart(2, '0'); }
      var now = new Date();
      var today = now.getFullYear() + '-' + pad(now.getMonth() + 1) + '-' + pad(now.getDate());

      var weekdays = ['söndag', 'måndag', 'tisdag', 'onsdag', 'torsdag', 'fredag', 'lördag'];
      var months = ['januari', 'februari', 'mars', 'april', 'maj', 'juni', 'juli', 'augusti', 'september', 'oktober', 'november', 'december'];
      var label = weekdays[now.getDay()] + ' ' + now.getDate() + ' ' + months[now.getMonth()] + ' ' + now.getFullYear();
      document.getElementById('today-heading').textContent = 'Dagens schema – ' + label;

      var todayEvents = events.filter(function (e) { return e.date === today; });
      todayEvents.sort(function (a, b) { return a.start.localeCompare(b.start); });

      var container = document.getElementById('today-events');

      if (todayEvents.length === 0) {
        container.innerHTML = '<p class="sidebar-text">Inga aktiviteter schemalagda för idag.</p>';
        return;
      }

      function esc(s) {
        if (s == null) return '';
        return String(s).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
      }

      var rows = todayEvents.map(function (e) {
        var timeStr = e.end ? esc(e.start) + '–' + esc(e.end) : esc(e.start);
        var metaParts = [e.location, e.responsible].filter(Boolean).map(esc);
        var metaEl = metaParts.length ? '<span class="ev-meta"> · ' + metaParts.join(' · ') + '</span>' : '';
        var hasExtra = e.description || e.link;

        if (hasExtra) {
          var extraParts = [];
          if (e.description) {
            e.description.trim().split(/\n\n+/).forEach(function (p) {
              extraParts.push('<p class="event-desc">' + esc(p.trim()) + '</p>');
            });
          }
          if (e.link) {
            extraParts.push('<a class="event-ext-link" href="' + esc(e.link) + '" target="_blank" rel="noopener">Extern länk →</a>');
          }
          return '<details class="event-row"><summary>' +
            '<span class="ev-time">' + timeStr + '</span>' +
            '<span class="ev-title">' + esc(e.title) + '</span>' +
            metaEl + '</summary>' +
            '<div class="event-extra">' + extraParts.join('') + '</div>' +
            '</details>';
        } else {
          return '<div class="event-row plain">' +
            '<span class="ev-time">' + timeStr + '</span>' +
            '<span class="ev-title">' + esc(e.title) + '</span>' +
            metaEl + '</div>';
        }
      });

      container.innerHTML = '<div class="today-card"><div class="event-list">' + rows.join('') + '</div></div>' +
        '<p class="display-footer">' + todayEvents.length + ' aktiviteter schemalagda idag.</p>';
    })();
  </script>
</body>
</html>
