name: Event Data Deploy

# Branch-protection gate for event-data PRs.
# Validation runs in the API layer at submission time.
# Build and deploy run post-merge (event-data-deploy-post-merge.yml).

permissions:
  contents: read

on:
  pull_request:
    branches:
      - main
    paths:
      - 'source/data/**.yaml'

jobs:
  check:
    name: Event data check
    runs-on: ubuntu-latest
    if: |
      startsWith(github.head_ref, 'event/') ||
      startsWith(github.head_ref, 'event-edit/')

    steps:
      - name: Validated at API layer
        run: echo "Validated at API layer"
